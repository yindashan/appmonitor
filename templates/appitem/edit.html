
<!-- content starts -->	
	<div>
		<ul class="breadcrumb">
			<li>
				<a href="#">系统管理</a> <span class="divider">/</span>
			</li>
			<li>
				<a href="#">应用项管理</a>
			</li>
		</ul>
	</div>
	
	
	<div class="row-fluid sortable">
			<div class="box span12">
				<div class="box-header well" data-original-title>
					<h2><i class="icon-edit"></i> 编辑应用项</h2>
					<div class="box-icon">
					</div>
				</div>
				<div class="box-content">
					<form class="form-horizontal" method="post" action="{% url appitem_edit app.id %}" onsubmit="return validateCallback(this);">
						<fieldset>
							<div class="control-group">
								<label class="control-label">应用名称</label>
								<div class="controls">
									<span class="input-xlarge uneditable-input">{{ app.app_name }}</span>
									请使用英文字母、数字以及下划线，例:AMAP_SERVER,应用名长度不超过30个字符
								</div>
							</div>
						
						  <div class="control-group">
							<label class="control-label">描述<span style="color:#f00">*</span></label>
							
							<div class="controls">
							  <input class="input-xlarge required" type="text" value="{{ app.desc }}" name="desc"/>
							</div>
						  </div>
						  <div class="control-group">
							<label class="control-label">检查时间间隔</label>
							<input id="ci_hidden" type="hidden" value="{{app.check_interval}}" />
							<div class="controls">
								 
								  <label class="radio">
									<input type="radio" name="check_interval" value="1">
									1分钟
								  </label>
								  
								  <div style="clear:both"></div>
								  
								  <label class="radio">
									<input type="radio" name="check_interval" value="5">
									5分钟
								  </label>
							</div>
						  </div>
						  
						<div class="control-group">
							<label class="control-label">最大重试次数</label>
							<input id="mca_hidden" type="hidden" value="{{app.max_check_attempts}}" />
							<div class="controls">
								 
								  <label class="radio">
									<input type="radio" name="max_check_attempts" value="1"/>
									1次
								  </label>
								  <div style="clear:both"></div>
								  
								  <label class="radio">
									<input type="radio" name="max_check_attempts" value="2"/>
									2次
								  </label>
								  <div style="clear:both"></div>
								  
								  <label class="radio">
									<input type="radio" name="max_check_attempts" value="3"/>
									3次
								  </label>
							</div>
						 </div>
						 <div class="control-group">
							<label class="control-label">IP地址列表<span style="color:#f00">*</span></label>
								<div class="controls">
									<textarea name="ip_list" class="required iplist textarea_std">{{app.ip_list}}</textarea>
									IP地址列表，以逗号分隔,例:192.168.1.100,192.168.1.120
								</div>
						 </div>
						 <div class="control-group">
							<label class="control-label">邮件报警联系地址列表</label>
								<div class="controls">
									<textarea name="email_list" class="emaillist textarea_std">{{app.email_list}}</textarea>
								</div>
						 </div>
						 <div class="control-group">
							<label class="control-label">报警短信联系列表</label>
								<div class="controls">
									<textarea name="mobile_list" class="mobilelist textarea_std">{{app.mobile_list}}</textarea>
								</div>
						 </div>

						  
						
						  <div class="form-actions">
							<button type="submit" class="btn btn-primary">保存</button>
							<button class="btn" onclick ="return httpRedirectAjax('{% url appitem_index %}')">取消</button>
						  </div>
						</fieldset>
					  </form>
				
				</div>
			</div><!--/span-->
		
		</div><!--/row-->
<!-- content ends -->

<script language="JavaScript" type="text/javascript">

//----------- start ---------------
$(document).ready(function(){
	 //校验
	 $("form").validate();
	 //设置radio 的值
	 switch($("#ci_hidden").val()){
		 case '1':
		 	$("input[name=check_interval][type=radio]").get(0).checked = true;
		 	break;
		 case '5':
		 	$("input[name=check_interval][type=radio]").get(1).checked = true;
		 	break;
	 }
	 switch($("#mca_hidden").val()){
		 case '1':
		 	$("input[name=max_check_attempts][type=radio]").get(0).checked = true;
		 	break;
		 case '2':
		 	$("input[name=max_check_attempts][type=radio]").get(1).checked = true;
		 	break;
		 case '3':
		 	$("input[name=max_check_attempts][type=radio]").get(2).checked = true;
		 	break;
	 }
	 
});
</script>